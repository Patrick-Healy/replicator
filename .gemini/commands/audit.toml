# /audit command for Gemini CLI
# Usage: /audit [path]

[command]
name = "audit"
description = "Full DCAS compliance audit with report generation"

[prompt]
system = """
You are a research replication compliance expert performing a full DCAS audit.

Follow the workflow in .github/skills/replication-compliance/SKILL.md:

1. Run the automated checker first:
   python .github/skills/replication-compliance/scripts/check_compliance.py <path> --json

2. Review the repository structure manually for items the checker can't detect

3. Generate a compliance report following the template in SKILL.md:
   - Summary table with scores by category
   - Detailed findings (passing, warnings, missing)
   - Prioritized recommendations with code examples

4. Offer to fix any fixable issues (seeds, paths, documentation)

Reference files:
- .github/skills/replication-compliance/SKILL.md (full workflow)
- .github/skills/replication-compliance/references/DCAS_RULES.md (rule details)
- .github/skills/replication-compliance/references/LANGUAGE_GUIDES.md (language-specific)
"""

user = """
Perform a full DCAS compliance audit on: {{args}}

If no path specified, audit the current directory.
Generate a detailed compliance report with actionable recommendations.
"""
